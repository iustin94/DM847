getwd()
getwd()
getwd()
?getwd()
setwd("~/Desktop/DM847")
load("workspace.R")
# RANDOM FOREST
install.packages("randomForest", repos="http://cran.cnr.berkeley.edu")
# RANDOM FOREST
install.packages("randomForest", repos="http://cran.cnr.berkeley.edu")
load("workspace.R")
# LOAD THE REAL DATA INTO GLOBALENV
setwd("real_data/")
temp = list.files(pattern="*.csv")
list2env(
lapply(setNames(temp, make.names(gsub("*.csv$", "", temp))),
read.table, header=TRUE), envir = .GlobalEnv
)
real_citrus <- NULL
real_halls <- NULL
real_citrus <- rbind(BD18_1711291646_out, BD18_1711291649_m2_out, BD18_1711291652_out, BD18_1711291652_out,
BD18_1711291705_out, BD18_1711291712_out, BD18_1711291719_out, BD18_1711291722_out,
BD18_1711291729_out, BD18_1711291736_out, BD18_1711291739_out, BD18_1711291743_out)
real_halls <- rbind(BD18_1711291656_out, BD18_1711291702_out, BD18_1711291709_out, BD18_1711291715_out,
BD18_1711291725_out, BD18_1711291732_out, BD18_1711291746_out, BD18_1711291750_out,
BD18_1711291753_out, BD18_1711291756_out, BD18_1711291800_out, BD18_1711291803_out)
real <- rbind(real_citrus, real_halls)
plot(x=real$t, y=real$r)
# DATA STRUCTURE FOR K-MEANS
real.data <- cbind(real$peak_name, real$t, real$r)
colnames(real.data) <- c("peak_name", "t", "r")
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
for (i in 75:85) real.num_cluster[i - 74] <- sum(kmeans(real.data, centers=i)$withinss)
# BEST FIT X clusters
plot_kmeans_analysis(75, 85, real.num_cluster)
View(real.data)
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
for (i in 75:85) real.num_cluster[i - 74] <- sum(kmeans(real.data, centers=i)$withinss)
# BEST FIT X clusters
plot_kmeans_analysis(75, 85, real.num_cluster)
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
for (i in 75:85) real.num_cluster[i - 74] <- sum(kmeans(real.data, centers=i)$withinss)
# BEST FIT X clusters
plot_kmeans_analysis(75, 85, real.num_cluster)
real.num_cluster
max(real.num_cluster)
which(real.num_cluster, max(real.num_cluster)) + 74
which(real.num_cluster, max(real.num_cluster))
which(real.num_cluster == max(real.num_cluster))
which(real.num_cluster == max(real.num_cluster)) + 74
plot(x=real.data[,2], y=real.data[,3], col=real.kmeans$cluster, pch=20)
# BEST FIT X clusters
plot_kmeans_analysis(75, 85, real.num_cluster)
real_nclust <- 81
real.kmeans <- kmeans(real.data, real_nclust)
plot(x=real.data[,2], y=real.data[,3], col=real.kmeans$cluster, pch=20)
real.labels <- read.table("labels.txt", header=TRUE, sep="\t")
View(real.labels)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
View(real.labels)
View(real.labels)
training <- as.matirx(t(real.data))
training <- as.matrix(t(real.data))
View(training)
training <- as.matrix(t(real.matrix))
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
training <- as.matrix(t(real.matrix))
View(training)
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
View(real.matrix)
training <- as.matrix(t(real.matrix))
View(training)
library(randomForest)
rownames(real.matrix)
View(real.matrix)
colnames(real.matrix)
rownames(real.matrix)
colnames(training) <- (1:81)
View(training)
training <- as.matrix(t(real.matrix))
colnames(training) <- c("", 1:81)
View(training)
colnames(training) <- (0:81)
training <- as.matrix(t(real.matrix))
colnames(training) <- (0:81)
colnames(training) <- (0:81)
colnames(training) <- (1:81)
View(training)
training <- as.matrix(t(real.matrix))
colnames(training) <- (1:real_nclust)
View(training)
View(real.labels)
real.labels <- as.factor(real.labels$candy)
rf.model <- randomForest(real.labels$candy~., data = training, importance = TRUE)
training <- as.matrix(t(real.matrix))
colnames(training) <- (1:real_nclust)
labels <- as.factor(real.labels$candy)
labels <- as.factor(real.labels$candy)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
training <- as.matrix(t(real.matrix))
colnames(training) <- (1:real_nclust)
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
labels
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
training <- as.matrix(t(real.matrix))
colnames(training) <- (1:real_nclust)
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
labels
rf.model <- randomForest(labels~., data = training, importance = TRUE)
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
training <- as.matrix(t(real.matrix))
View(training)
#colnames(training) <- (1:real_nclust)
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
View(training)
for (i in 1:real_nclust) {
tmp_header <- paste("V", i)
}
print(tmp_header)
for (i in 1:real_nclust) {
tmp_header <- paste(tmp_header, "V", i)
}
print(tmp_header)
training <- as.matrix(t(real.matrix))
colnames(training) <- (1:real_nclust)
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
rownames(real.matrix)
View(real.matrix)
for (i in 1:real_nclust) {
tmp_header[i] <- paste("V", i)
}
tmp_header
training <- as.matrix(t(real.matrix))
colnames(training) <- tmp_header
View(training)
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
View(real.matrix)
View(training)
for (i in 1:real_nclust) {
tmp_header[i] <- paste("V", i, sep = "")
}
tmp_header
training <- as.matrix(t(real.matrix))
colnames(training) <- tmp_header
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
View(training)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
# RANDOM FOREST
install.packages("randomForest")
install.packages("randomForest")
library(randomForest)
for (i in 1:real_nclust) {
tmp_header[i] <- paste("V", i, sep = "")
}
training <- as.matrix(t(real.matrix))
colnames(training) <- tmp_header
labels <- as.factor(real.labels$candy)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
View(training)
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("\\.csv$","", list.files(pattern="\\.csv$"))
View(BD18_1408280844)
for(i in real.filenames){names(real.filenames)
assign(i, read.csv(paste(i, ".csv", sep=""), header = T, sep = "\t", stringsAsFactors = FALSE))
}
for(name in real.filenames) {
print(name)
}
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("\\BD18_*.csv$","", list.files(pattern="\\.csv$"))
real.filenames
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("BD18_*.csv$","", list.files(pattern="\\.csv$"))
real.filenames
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("BD18_$","", list.files(pattern="\\.csv$"))
real.filenames
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("\\.csv$","", list.files(pattern="BD18_$"))
real.filenames
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("\\.csv$","", list.files(pattern="BD18_*"))
real.filenames
# DATA STRUCTURE FOR K-MEANS
real.filenames <- gsub("\\.csv$","", list.files(pattern="BD18_*"))
for(i in real.filenames){names(real.filenames)
assign(i, read.csv(paste(i, ".csv", sep=""), header = T, sep = "\t", stringsAsFactors = FALSE))
}
for(name in real.filenames) {
real <- rbind(real, read.csv(name, sep = "\t"))
}
View(BD18_1711291739_out)
get(BD18_1711291739_out)
BD18_1711291739_out
Sys.getenv(BD18_1711291739_out)
for(name in real.filenames) {
real <- rbind(real, name)
}
ls(BD18_1711291739_out)
get(BD18_1711291739_out)
get("BD18_1711291739_out")
for(name in real.filenames) {
real <- rbind(real, get(name))
}
real
View(real)
real.data <- cbind(real$peak_name, real$t, real$r)
colnames(real.data) <- c("peak_name", "t", "r")
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
View(real.data)
# LOAD THE REAL DATA INTO GLOBALENV
setwd("real_data/")
temp = list.files(pattern="*.csv")
temp
temp = list.files(pattern="BD18_*")
temp
list2env(
lapply(setNames(temp, make.names(gsub("*.csv$", "", temp))),
read.table, header=TRUE), envir = .GlobalEnv
)
for(name in temp) {
real <- rbind(real, get(name))
}
temp[1]
temp[1][,-3]
temp[1]
strsplit(temp[1], ".")
temp[1]
gsub(".csv", temp)
gsub(".csv", "", temp)
for(name in gsub(".csv", "", temp)) {
}
for(name in gsub(".csv", "", temp)) {
real <- rbind(real, get(name))
}
View(real)
real.data <- cbind(real$peak_name, real$t, real$r)
View(real.data)
colnames(real.data) <- c("peak_name", "t", "r")
View(real.data)
# DATA STRUCTURE FOR K-MEANS
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
View(real.data)
# LOAD THE REAL DATA INTO GLOBALENV
setwd("real_data/")
temp = list.files(pattern="BD18_*")
list2env(
lapply(setNames(temp, make.names(gsub("*.csv$", "", temp))),
read.table, header=TRUE), envir = .GlobalEnv
)
for(name in gsub(".csv", "", temp)) {
real <- rbind(real, get(name))
}
real <- as.data.frame(real)
View(real.data)
real.data <- cbind(as.numeric(real$peak_name), as.numeric(real$t), as.numeric(real$r))
real <- as.data.frame(real)
View(real.data)
View(real.data)
View(real)
sum(is.na(real))
# LOAD THE REAL DATA INTO GLOBALENV
setwd("real_data/")
temp = list.files(pattern="BD18_*")
list2env(
lapply(setNames(temp, make.names(gsub("*.csv$", "", temp))),
read.table, header=TRUE), envir = .GlobalEnv
)
for(name in gsub(".csv", "", temp)) {
real <- rbind(real, get(name))
}
real <- as.data.frame(real)
View(real)
real <- NULL
for(name in gsub(".csv", "", temp)) {
real <- rbind(real, get(name))
}
real <- as.data.frame(real)
sum(is.na(real))
real.data <- cbind(real$peak_name, real$t, real$r)
colnames(real.data) <- c("peak_name", "t", "r")
# DATA STRUCTURE FOR K-MEANS
real.num_cluster <- (nrow(real.data))*sum(apply(real.data,2,var))
for (i in 75:85) real.num_cluster[i - 74] <- sum(kmeans(real.data, centers=i)$withinss)
# BEST FIT X clusters
plot_kmeans_analysis(75, 85, real.num_cluster)
real_nclust <- 81
real.kmeans <- kmeans(real.data, real_nclust)
plot(x=real.data[,2], y=real.data[,3], col=real.kmeans$cluster, pch=20)
# BUILD MATRIX
real.matrix <- build_matrix(real, real.kmeans$cluster)
real.labels <- read.csv("labels.csv", header = TRUE, sep = "\t")
for (i in 1:real_nclust) {
tmp_header[i] <- paste("V", i, sep = "")
}
training <- as.matrix(t(real.matrix))
View(training)
colnames(training) <- tmp_header
View(training)
rf.model <- randomForest(labels~., data = training, importance = TRUE)
real.labels
real.labels$candy
labels
labels
labels <- as.factor(real.labels$candy)
labels
rf.model <- randomForest(labels~., data = training, importance = TRUE)
rf.prediction <- predict(rf.model, training)
table(rf.prediction, labels)
save.image("workspace.R")
save.image("../workspace.R")
